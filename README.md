## Описание проекта

Программа получает цены от крупнейшей криптобиржи Binance. Для передачи данных 
выбраны вебсокеты, т.к. они работают с меньшими задержками по сравнению с API
(100 мс -- см. [документацию](https://binance-docs.github.io/apidocs/futures/en/#aggregate-trade-streams)). 
Кроме того, сокеты меньше нагружают канал передачи данных, т.к. самих данных 
передаётся меньше. Это даёт определённые преимущества при масштабировании 
приложения, увеличения количества используемых стримов.

## Запуск проекта

Клонируйте проект
```
git clone https://github.com/I-Iub/futures.git
```

В корневой директории проекта создайте файл с переменными окружения `.env` -- 
см. пример в `.env.example`. 

__Для соответствия условиям задачи необходимо установить в файле `.env` значение
`INTERVAL = 60` минут, `THRESHOLDING = 1` процент. В файле `.env.example` 
значения подобраны так, чтобы видеть логирующее сообщение при минимальном 
изменении цены для наглядной демонстрации работы.__

Запустите проект (не запускайте в detached режиме, иначе сообщения выводится 
не будут)
```
docker compose up  # без флагов -d | --detach
```
При первом запуске, пока миграции не выполнены в консоли будет логирующее 
сообщение `ERROR - Please, check that migrations are applied`.
Выполните миграции:
```
docker compose exec app alembic upgrade head
```
После этого при изменении цены за промежуток времени `INTERVAL` минут на 
величину больше или равно `THRESHOLDING` процентов в консоли будет сообщение 
вида:
```
futures_app  | 2023-03-11 18:15:16,062 - INFO - main:96 - The price change 
(-1.105) has exceeded the threshold
```
Для того, чтобы завершить программу, в отдельном терминале перейдите в 
корневую папку проекта и выполните:
```
docker compose down
```
